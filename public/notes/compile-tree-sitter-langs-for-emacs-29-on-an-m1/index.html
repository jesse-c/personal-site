<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Jesse Claven</title>
    <link rel="stylesheet" href="https://j-e-s-s-e.com/inter/inter.css">
    <script type="text/javascript" src="https://j-e-s-s-e.com/site.js"></script>
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body>
    <header>
      <div id="title" >
        <h1><a href="https:&#x2F;&#x2F;j-e-s-s-e.com">Jesse Claven</a></h1>
      </div>

      <nav id="hamnav">
        <!-- THE HAMBURGER -->
        <label for="hamburger">&#9776;</label>
        <input type="checkbox" id="hamburger" />

        <!-- MENU ITEMS -->
        <div id="hamitems">
            <a href="https:&#x2F;&#x2F;j-e-s-s-e.com">Home</a>
            <a href="https://j-e-s-s-e.com/notes/">Notes<sup>11</sup></a>
            <a href="https://j-e-s-s-e.com/projects/">Projects<sup>8</sup></a>
            <a href="https://j-e-s-s-e.com/work/">Work<sup>3</sup></a>
            <a href="https://j-e-s-s-e.com/education/">Education</a>
            <a href="https://j-e-s-s-e.com/about/">About</a>
            <a href="https://j-e-s-s-e.com/get-in-touch/">Get in touch</a>
        </div>
      </nav>
    </header>
    <main>
      <div id="notice">
        &#9432; Content (Work, projects, notes, etc.) is being added.
      </div>
      
    <h1 class="title">Compile Tree-sitter langs for Emacs 29 on an M1</h1>
    <p class="subtitle">2022-12-20</p>
        
            Tree-sitter
        
            Emacs
        
    
    <p>Recently I tried Emacs 29<sup class="footnote-reference"><a href="#1">1</a></sup> and began slimming down my config<sup class="footnote-reference"><a href="#2">2</a></sup>. Following the Tree-sitter starter guide<sup class="footnote-reference"><a href="#3">3</a></sup>, I couldn't figure out why I wasn't able to start the appropriate mode. I would get errors along the lines of, <code>Cannot activate tree-sitter, because language definition for ...</code>.</p>
<p>After double-checking file paths and names, I compared my local build output of the recommend build script<sup class="footnote-reference"><a href="#4">4</a></sup> to the provided releaseâ€”which <em>did</em> work .</p>
<p>The provided release was compiled for <code>x86_64</code> and my local build output was for <code>arm64</code>. That wasn't wrong, as I <em>am</em> on an M1.</p>
<p>Here's the a simple and lazy to compile for <code>x64_64</code> and have it work: <code>arch -x86_64 ./batch.sh</code></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p><a href="https://github.com/jimeh/emacs-builds">jimeh/emacs-builds</a></p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p><a href="https://www.reddit.com/r/emacs/comments/zqdrnz/replacing_packages_with_more_stripped_down/">Replacing packages with more &quot;stripped down&quot; packages</a></p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p><a href="https://github.com/emacs-mirror/emacs/blob/master/admin/notes/tree-sitter/starter-guide">Tree-sitter starter guide</a></p>
</div>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p><a href="https://github.com/casouri/tree-sitter-module">casouri/tree-sitter-module</a></p>
</div>


    </main>
  </body>
</html>
