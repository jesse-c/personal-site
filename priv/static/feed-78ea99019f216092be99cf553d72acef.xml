<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <link rel="self" href="https://j-e-s-s-e.com/feed.xml"/>
  <author>
    <name>Jesse Claven</name>
  </author>
  <id>https://j-e-s-s-e.com</id>
  <title>Blog · Jesse Claven</title>
  <updated>2024-10-20T19:47:22.802978Z</updated>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/new-app-check-if-i-wouldve-posted-an-image-on-instagram"/>
    <content type="html">&lt;p&gt;This is an implementation&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; as a follow-up to a previous post&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt; about preventing posting dupes on Instagram, through a simple ML model.&lt;/p&gt;
&lt;p&gt;For now, you can upload an image, and it&apos;ll give the top k (5, at the moment), images that your image is similar to. All uploaded images are stored in a temporary directory, and are immediately deleted, after inference.&lt;/p&gt;
&lt;p&gt;This approach makes it so that I can use it, which is the main priority, and also lets others have fun with it. Usually if I&apos;m editing photos, I have access to the internet as well. I have thought of an offline- and mobily-only version of how it could be built.&lt;/p&gt;
&lt;p&gt;Check it out at &lt;a href=&quot;/apps/instagram-dupe-checker&quot;&gt;Instagram dupe checker&lt;/a&gt;.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/instagram-image-already-posted-check&quot;&gt;https://github.com/jesse-c/instagram-image-already-posted-check&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;preventing-posting-dupes-on-instagram&quot;&gt;Preventing posting dupes on Instagram&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>new-app-check-if-i-wouldve-posted-an-image-on-instagram</id>
    <title>New app: Check if I would&apos;ve posted an image on Instagram</title>
    <updated>2024-10-20T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/new-feature-edits-for-rom-to-the-com"/>
    <content type="html">&lt;p&gt;Someone mentioned to me that some of their girl friends had &lt;em&gt;thoughts&lt;/em&gt; about some of the rankings. With that, and wanting to add a feature where people can edit rankings, I&apos;ve thrown that together.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/rom-to-the-com-edits.jpg&quot; alt=&quot;Screenshot of Rom-to-the-Com edits feature&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Have fun at &lt;a href=&quot;https://www.rom-to-the-com.com&quot;&gt;https://www.rom-to-the-com.com&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>new-feature-edits-for-rom-to-the-com</id>
    <title>New feature: Edits for Rom-to-the-Com</title>
    <updated>2024-10-08T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/my-trivial-but-first-model-on-huggingface"/>
    <content type="html">&lt;h1&gt;Welcome to ResNet-50 Embeddings Only&lt;/h1&gt;
&lt;p&gt;This came out of &lt;em&gt;&lt;a href=&quot;preventing-posting-dupes-on-instagram&quot;&gt;Preventing posting dupes on Instagram&lt;/a&gt;&lt;/em&gt;. There&apos;s truly nothing new here, except that I&apos;ve uploaded it as a stand-alone model&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;. I appreciate the work of the many others, that this is based on.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://xkcd.com/1425/&quot;&gt;https://huggingface.co/jxtc/resnet-50-embeddings&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>my-trivial-but-first-model-on-huggingface</id>
    <title>My trivial, but first, model on HuggingFace</title>
    <updated>2024-09-30T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/preventing-posting-dupes-on-instagram"/>
    <content type="html">&lt;h1&gt;What&apos;s now simple&lt;/h1&gt;
&lt;p&gt;One of the things I&apos;ve done continuously for a while is photography. Recently, I did my first paid shoot, at an art gallery opening, for one of the artists. Otherwise, it&apos;s simply things from my life, like anyone. I&apos;ve almost posted a photo twice before, if it&apos;s from a previous month or year.&lt;/p&gt;
&lt;p&gt;As with others, I was recently reminded of XKCD 1425 (Tasks) &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; by Simon Willison &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;. That means that I can easily solve this problem for myself.&lt;/p&gt;
&lt;h1&gt;Models considered&lt;/h1&gt;
&lt;p&gt;Considering that I may want to do this on my iPhone, I looked at well-known models that could be run. ResNet-50 and MobileCLIP came up as suitable solutions. ResNet-50 requires a modification, since its architecture is to classify an image into 1 of 1,000 distinct classes. I remove that final layer to get a model, where I can get the embeddings from. Here is a common example of the architecture &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/resnet-50.jpg&quot; alt=&quot;ResNet-50 architecture&quot; /&gt;&lt;/p&gt;
&lt;p&gt;MobleCLIP was used as is&lt;/p&gt;
&lt;h1&gt;Embedding similarity distribution analysis&lt;/h1&gt;
&lt;p&gt;As someone relatively new to the more in-depth analysis of ML model performance, I did a rather simple attempt. Simply as well, I was curious how similar my photos are. I used a similarity matrix, created through Torch. I used just the dot product for similarity. This is simple, possibly a little wrong, but sufficient.&lt;/p&gt;
&lt;p&gt;The code is available in a repository online: &lt;a href=&quot;https://github.com/jesse-c/instagram-image-already-posted-check&quot;&gt;jesse-c/instagram-image-already-posted-check&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Distribution of image similarities for ResNet-50:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/instagram_dupe_check_similarity_distribution_resnet50.png&quot; alt=&quot;Similarity distribution: ResNet-50&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Distribution of image similarities for MobileCLIP (S2):&lt;/p&gt;
&lt;p&gt;S2 was picked, based on general recommendations read online, for similar tasks.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/instagram_dupe_check_similarity_distribution_mobileclip.png&quot; alt=&quot;Similarity distribution: Mobile&quot; /&gt;&lt;/p&gt;
&lt;h2&gt;I &lt;em&gt;had&lt;/em&gt; posted a dupe&lt;/h2&gt;
&lt;p&gt;When running the analysis, and looking at the most similar pair, I did discover that I had posted a dupe! It was the same photo, albeit with slightly different editing.&lt;/p&gt;
&lt;h2&gt;Why ResNet-50 may be preferable&lt;/h2&gt;
&lt;p&gt;There&apos;s higher similarity scores, with the distribution being centered around higher similarity values. This suggests it may be more sensitive to subtle differences.&lt;/p&gt;
&lt;p&gt;A tighter distribution means that it could be easier to set a clear threshold, for determining if a candidate photo is a dupe. Ultimately, this would still be a manual process, but in an automated sense, you&apos;d want to avoid surfacing candidates for a manual check.&lt;/p&gt;
&lt;p&gt;The symmetry indicates that there isn&apos;t bias towards any particular kind of photo.&lt;/p&gt;
&lt;h1&gt;Using it on a candidate photo&lt;/h1&gt;
&lt;p&gt;Here&apos;s the candidate photo and the top k similar images. Fundamentally, it was helpful! Here are the results:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/instagram-embeddings-check-dupe.jpg&quot; alt=&quot;Top 5 similar images to candidate photo&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;Next steps&lt;/h1&gt;
&lt;p&gt;Often if I&apos;m editing photos, I&apos;m not at my computer. Having this available as a private online service for myself would be helpful. Even better would be an offline iOS app! This could possibly be used by others.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://xkcd.com/1425/&quot;&gt;https://xkcd.com/1425/&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://simonwillison.net/2024/Sep/24/xkcd-1425-turns-ten-years-old-today&quot;&gt;https://simonwillison.net/2024/Sep/24/xkcd-1425-turns-ten-years-old-today&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/@nitishkundu1993/exploring-resnet50-an-in-depth-look-at-the-model-architecture-and-code-implementation-d8d8fa67e46f&quot;&gt;https://medium.com/@nitishkundu1993/exploring-resnet50-an-in-depth-look-at-the-model-architecture-and-code-implementation-d8d8fa67e46f&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>preventing-posting-dupes-on-instagram</id>
    <title>Preventing posting dupes on Instagram</title>
    <updated>2024-09-27T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/explicitly-showing-and-checking-documentation-decay"/>
    <content type="html">&lt;h1&gt;The problem with manual links&lt;/h1&gt;
&lt;p&gt;Have you ever seen &lt;em&gt;perfectly&lt;/em&gt; up-to-date documentation? What about a SaaS product&apos;s API documentation? For the latter, there&apos;s well known approaches, and tools, for documentation generation. I&apos;ve seen a kind of new tools that will monitor your requests/responses, to catch drift. I&apos;ll focus on the former for now.&lt;/p&gt;
&lt;p&gt;On 2023-08-22, I was looking at Elastic&apos;s Helm charts, and found a link to an external page that had been archived, and that&apos;s when I had the first idea of &quot;documentation decay&quot;. On 2023-12-30, I wrote about how I&apos;ve heard previous colleagues talk about how important it is to have documentation &quot;next to&quot; code, to supposedly increase the likelihood that it&apos;s kept recent. I don&apos;t disagree, but that&apos;s just 1 &quot;link&quot;.&lt;/p&gt;
&lt;p&gt;At a recent job, I noticed that the link checker for the documentation wasn&apos;t automatically being run. I ran it and found over 100 broken links, which included links to other pages in the documentation, and to external websites.&lt;/p&gt;
&lt;p&gt;That is just one &lt;strong&gt;kind&lt;/strong&gt; of link. Another kind of link could be something like the supported versions of Kubernetes. I setup a variable for that, so that that variable was used everywhere in the documentation. This meant that it was always up-to-date. That isn&apos;t true of course, since the version of Kubernetes that was supported had its source-of-truth elsewhere. There was a link to be manually updated.&lt;/p&gt;
&lt;p&gt;Anything that is manual will eventually be forgotten, or remembered, but done incorrectly. One day I&apos;ll write about my checklist idea.&lt;/p&gt;
&lt;h1&gt;Code, or rather documentation, generation helps&lt;/h1&gt;
&lt;p&gt;Adding the variable, and then the documentation generation did its bit. There&apos;s 3 fundamental things about it that I&apos;ll go into.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Displaying state&lt;/li&gt;
&lt;li&gt;Static checks&lt;/li&gt;
&lt;li&gt;Linking anything&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;What are links?&lt;/h1&gt;
&lt;p&gt;There&apos;s anchors, in the web sense. Then there&apos;s anything else! &quot;Container&quot; kinds of things are full of them, like READMEs and Makefiles. There is some fanciful idea of everything being a computation graph deep down.&lt;/p&gt;
&lt;h1&gt;1. Displaying state&lt;/h1&gt;
&lt;p&gt;Assume that there are links for anything. Notion, a common choice, has a way to mark things as verified&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; and to sync blocks&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;. What if there was more? In the mockup below, I&apos;ve used visual markings to indicate the state of decay, and to include the reasons for the decay:&lt;/p&gt;
&lt;p&gt;NB: You can open the image in a new tab, to see it in a larger size.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/documentation-decay-cpr-sdk.jpg&quot; alt=&quot;Example: Documentation decay for CPR SDK&apos;s README&quot; /&gt;&lt;/p&gt;
&lt;p&gt;What would this do? It can help you set off in the right way, with an appropriate amount of trust and expectations.&lt;/p&gt;
&lt;h1&gt;2. Static checks&lt;/h1&gt;
&lt;p&gt;For a recent side-project&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;, I&apos;m using Justfiles for making the different tasks manageable. You can see where I changed the Justfile&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-4&quot; id=&quot;fnref-4&quot; data-footnote-ref&gt;4&lt;/a&gt;&lt;/sup&gt; to account for the other, meaningful changes. At first I had missed this. What if I had a static check to remind me?&lt;/p&gt;
&lt;p&gt;I wrote up a small script that would check the links, with the Justfile (A) having links to the folder existing (B), and the configuration of the output directory (C).&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-python&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;os&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;tomllib&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;difflib&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;unified_diff&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;a_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;justfile&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;second_line&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;extracted_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;second_line&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;extracted_content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;b_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;02-plaintext-to-vespa-documents&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;c_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;02-plaintext-to-vespa-documents&amp;#x2f;config.toml&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;rb&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;tomllib&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;output_file&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_state&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state_file&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;state.json&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state_file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;expected&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_state&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;actual&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;a_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;b_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;c_accessor&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;actual_str&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;dumps&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;actual&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;indent&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;expected_str&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;dumps&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;expected&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;indent&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;unified_diff&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;actual_str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;splitlines&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;keepends&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;expected_str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;splitlines&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;keepends&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fromfile&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;actual&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;tofile&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;expected&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;lineterm&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Differences found:&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;links.json&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;dumps&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;links&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;indent&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;Please check the links above.&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;No differences found.&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is the state:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-json&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;02-plaintext-to-vespa-documents&amp;#x2f;output&amp;#x2f;vespa-all.jsonl&quot;&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;c&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;output&amp;#x2f;vespa-all.jsonl&quot;&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here are the links:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-json&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;links&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;links&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;c&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;&quot;links&quot;&lt;/span&gt;: &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A forced negative output:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;$ poetry run python clevis.py

Differences found:
--- actual+++ expected@@ -6,6 +6,6 @@     &quot;value&quot;: true
   },
   &quot;c&quot;: {
-    &quot;value&quot;: &quot;output&amp;#x2f;vespa-all.jsonl&quot;
+    &quot;value&quot;: &quot;output&amp;#x2f;vespa.jsonl&quot;
   }
 }

{
  &quot;a&quot;: {
    &quot;links&quot;: [
      &quot;b&quot;,
      &quot;c&quot;
    ]
  },
  &quot;b&quot;: {
    &quot;links&quot;: [
      &quot;a&quot;,
      &quot;c&quot;
    ]
  },
  &quot;c&quot;: {
    &quot;links&quot;: [
      &quot;a&quot;,
      &quot;b&quot;
    ]
  }
}

Please check the links above.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As a once off, this is okay, but is not realistic for even a small side-project like that, let alone for a professional environment. Like with all documentation, tooling, CI/CD, tests, etc., the convenience matters. No tools currently exist for this convenience, so they would need to be created.&lt;/p&gt;
&lt;p&gt;This part is simpler, in the sense that it would need to load the previous state, create the new state, and compare them for differences.&lt;/p&gt;
&lt;h1&gt;3. Linking anything&lt;/h1&gt;
&lt;p&gt;Similar to the point above, there needs to be tooling for creating links! What is anything? A README is a simple example. Anything that has programmatic access could have tooling made for. It could be a public landing page to an internal Notion page, or cross-repository.&lt;/p&gt;
&lt;h1&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;I&apos;ll intentionally document examples of where this comes up at my job and in side-projects, and think about what that tooling would look like.&lt;/p&gt;
&lt;p&gt;I&apos;ve noticed more happening in the world of non-string treatment of code, whether that&apos;s from Tree-sitter (and LSP), to Codemod, Grit, Semgrep, Ki Editor, and much more. This is a trend I&apos;m very happy to see! One thing that I didn&apos;t touch on is fixing. Pointing out mistakes doesn&apos;t mean they&apos;ll even get fixed. Automated fixing, like with formatters and static checks, increases the likelihood of them being made.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.notion.so/help/wikis-and-verified-pages&quot;&gt;Wikis &amp; verified pages&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.notion.so/help/synced-blocks&quot;&gt;Synced blocks&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;notes-app-hybrid-search-release&quot;&gt;Initial release of hybrid search for Notes.app&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-4&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/notes-app-hybrid-search/pull/1&quot;&gt;notes-app-hybrid-searchl#1&lt;/a&gt; &lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;4&quot; aria-label=&quot;Back to reference 4&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>explicitly-showing-and-checking-documentation-decay</id>
    <title>Explicitly showing, and checking, documentation decay</title>
    <updated>2024-09-14T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/embeddings-improvements-to-hybrid-search-for-notes-app"/>
    <content type="html">&lt;p&gt;To reduce use of embeddings outside of Vespa itself, I&apos;ve removed it from the data transformation pipeline &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; and the querying CLI &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/notes-app-hybrid-search/pull/2&quot;&gt;jesse-c/notes-app-hybrid-search#2&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/notes-app-hybrid-search/pull/1&quot;&gt;jesse-c/notes-app-hybrid-search#1&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>embeddings-improvements-to-hybrid-search-for-notes-app</id>
    <title>Embeddings improvements to hybrid search for Notes.app</title>
    <updated>2024-09-13T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/initial-release-of-hybrid-search-for-notes-app"/>
    <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;p&gt;One of the ways I use Notes.app is for having a Shortcut that creates a daily note, titled as the current day (e.g. &quot;2024-09-08&quot;), where I use it for journal-esque writings, dropping links to products or articles, project ideas, and &lt;em&gt;anything&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Unfortunately, the keyword search in Notes.app isn&apos;t always sufficient. I&apos;m sure Apple will add something like this eventually, and for now, I&apos;ve cobbled something together.&lt;/p&gt;
&lt;p&gt;You can try it yourself locally: &lt;a href=&quot;https://github.com/jesse-c/notes-app-hybrid-search/&quot;&gt;https://github.com/jesse-c/notes-app-hybrid-search/&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Evaluation&lt;/h1&gt;
&lt;p&gt;I&apos;ve tried 2 different models so far, both of which were similar in quality. Along with that, I&apos;ve manually done searches for queries that in the past, were things I&apos;ve struggled to find again. It&apos;s worked reasonably well. The output needs to be tweaked to have a more useful &lt;code&gt;snippet&lt;/code&gt;.&lt;/p&gt;
&lt;h1&gt;What&apos;s next&lt;/h1&gt;
&lt;p&gt;There&apos;s a few things that I&apos;ll be adding:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Evaluate different models&lt;/li&gt;
&lt;li&gt;Host the model in Vespa&lt;/li&gt;
&lt;li&gt;Deploy it, to access it on my phone&lt;/li&gt;
&lt;li&gt;Use sentences over full bodies&lt;/li&gt;
&lt;li&gt;Enrich data, for example by pulling link titles and summaries and creating embeddings from images&lt;/li&gt;
&lt;/ul&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>initial-release-of-hybrid-search-for-notes-app</id>
    <title>Initial release of hybrid search for Notes.app</title>
    <updated>2024-09-08T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/new-initiative-launched-the-teddy-talks"/>
    <content type="html">&lt;p&gt;Around 3 years ago, a friend of mine told me about something they&apos;ve been doing, called &lt;a href=&quot;https://www.instagram.com/the.teddytalks/&quot;&gt;The Teddy Talks&lt;/a&gt;. I loved the idea, and have run it annually where I live, for the last 4 years!&lt;/p&gt;
&lt;p&gt;Whenever I&apos;ve spoken about it with new friends or colleagues, almost everyone universally loves the idea. To help spread the initiative, I&apos;ve launched a simple website this week: &lt;a href=&quot;https://www.theteddytalks.com&quot;&gt;https://www.theteddytalks.com&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>new-initiative-launched-the-teddy-talks</id>
    <title>New initiative launched: The Teddy Talks</title>
    <updated>2024-09-05T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/new-feature-im-feeling-lucky-for-rom-to-the-com"/>
    <content type="html">&lt;p&gt;Part of the reason this project was made, was because of indecision/conflicts of what should be watched.&lt;/p&gt;
&lt;p&gt;To help with that, I&apos;ve added a feature request of a &quot;I&apos;m feeling lucky!&quot; button that will choose a random set of percentages for &quot;rom&quot; to &quot;com&quot;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/rom-to-the-com-im-feeling-lucky.png&quot; alt=&quot;Screenshot of Rom-to-the-Com &quot;I&apos;m feeling lucky&quot; feature&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Have fun at  &lt;a href=&quot;https://www.rom-to-the-com.com&quot;&gt;https://www.rom-to-the-com.com&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>new-feature-im-feeling-lucky-for-rom-to-the-com</id>
    <title>New feature: &quot;I&apos;m feeling lucky!&quot; for Rom-to-the-Com</title>
    <updated>2024-08-18T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/new-feature-suggestions-for-rom-to-the-com"/>
    <content type="html">&lt;p&gt;A lot of questions people had was about &lt;em&gt;where&lt;/em&gt; I got the data from, and would then often check for films being included, and they weren&apos;t always!&lt;/p&gt;
&lt;p&gt;You&apos;re now able to add your own suggestions:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/rom-to-the-com-suggestions.png&quot; alt=&quot;Screenshot of Rom-to-the-Com suggestions feature&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Have fun at &lt;a href=&quot;https://www.rom-to-the-com.com&quot;&gt;https://www.rom-to-the-com.com&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>new-feature-suggestions-for-rom-to-the-com</id>
    <title>New feature: Suggestions for Rom-to-the-Com</title>
    <updated>2024-08-15T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/v1-release-of-rom-to-the-com"/>
    <content type="html">&lt;p&gt;A few years ago, some friends and I went on a road-trip to Wales. How we came up with the idea has long been forgotten, but the idea lived on. I bough the domains immediately after that trip, and held onto them until now!&lt;/p&gt;
&lt;p&gt;What&apos;s different from now is that LLMs have hit it off, and solved the data problem for this side-project.&lt;/p&gt;
&lt;p&gt;Before reading on, check it out: &lt;a href=&quot;https://www.rom-to-the-com.com&quot;&gt;Rom-to-the-Com&lt;/a&gt;. Here&apos;s a screenshot:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/rom-to-the-com.png&quot; alt=&quot;Screenshot of Rom-to-the-Com website&quot; /&gt;&lt;/p&gt;
&lt;p&gt;There were 2 parts to the data problem. The first is simply a list of rom-coms. There were different lists available on the internet. Wikipedia had quite a huge one. In the end, I used several public lists that people had made on IMDB. The second is how to rank them as a percentage of romance to comedy, in a timely fashion. We could do films we know, but that would be a small dataset. In the end, I used Claude, with this prompt:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-python&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;claude-3-5-sonnet-20240620&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;max_tokens&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;temperature&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;role&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;For each of these romantic comedy films, determine, out of 100%, how much of them are romance and how much are comedy. For example, a film may be 60% romance and 40% comedy.&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;Return your determined value as a third column in the CSV text. A value should be in the format of &lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\&quot;&lt;/span&gt;60,40&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\&quot;&lt;/span&gt;, for the 2 percentages. Make sure they&amp;#x27;re surrounded by quotes, so it&amp;#x27;s a valid CSV file. Try and spread out your assessments so that there&amp;#x27;s a wide variation. Only return the result.&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;chunk&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A chunk was &lt;code&gt;n&lt;/code&gt; film titles. I ran a validation after, to ensure that all percentages added up to 100%, and they were all correct! I did some manual validation on the accuracy by comparing the generated rankings, to films I&apos;ve seen. I had some friends do the same. Overall, we were quite happy with the rankings. An assumption I&apos;ve operated on is that in the LLM&apos;s training data, every film was present.&lt;/p&gt;
&lt;p&gt;For the design, I kept it as minimal, and minimally cutesy, as possible.&lt;/p&gt;
&lt;p&gt;We have lots of ideas, but for now, v1 is there!&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>v1-release-of-rom-to-the-com</id>
    <title>v1 release of Rom-to-the-Com</title>
    <updated>2024-08-04T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/fine-tuning-an-llm-on-my-messages-whatsapp-instagram-and-messenger"/>
    <content type="html">&lt;p&gt;This will be a brief overview of how I &lt;em&gt;attempted&lt;/em&gt; to fine-tune an LLM on my personal messages. The goal was to 1) go through the data preparation, experimentation, and evaluation loop end-to-end, and 2) be able to side-by-side evaluate my responses to responses from the LLM. This was out of curiosity and also to practice some data and ML engineering! I&apos;m in the process of transitioning professionally from software engineer to &lt;em&gt;eventually&lt;/em&gt; something ML engineer-esque.&lt;/p&gt;
&lt;p&gt;From those 2 goals, I&apos;m happy with the first (I did it), and unsurprised by the second (the evaluations were relatively poor). Due to privacy, and time constraints, this post will be brief in length and in content of my messages and responses.&lt;/p&gt;
&lt;h2&gt;Data&lt;/h2&gt;
&lt;h3&gt;Gathering&lt;/h3&gt;
&lt;p&gt;Messages from WhatsApp, Instagram, and Messenger were used. For WhatsApp, I used iMazing to get an export, as there wasn&apos;t a first-party way for me to immediately do so. For the latter 2, I exported data from my Meta account.&lt;/p&gt;
&lt;h3&gt;Preparing&lt;/h3&gt;
&lt;p&gt;In &lt;code&gt;prepare.py&lt;/code&gt; (see: appendix), I read in all the conversations from the different sources, and then dump them in a ChatML structure, per conversation, to disk. This structure was chosen to match the LLM I was going to fine-tune on. You can see an unused &lt;code&gt;to_prompt&lt;/code&gt; function, for a different structure, for a different model that I was tried.&lt;/p&gt;
&lt;p&gt;The CLI allowed me to focus on specific sources and to safely experiment with dry runs. Even for a little script, I did still appreciate having done this.&lt;/p&gt;
&lt;p&gt;Fortunately I could use the same parsing for Instagram and Messenger. There is some data validation done during transformation to my conversation structure and post-transformation. These validations were learnt through examining the data and through seeing bad output when writing this script. These were both for conversations to exclude (e.g. no. of participants) or messages to exclude (e.g. someone leaving a group).&lt;/p&gt;
&lt;p&gt;For myself, I decided to treat myself as the &lt;strong&gt;assistant&lt;/strong&gt;, that would be queried in the evaluations. Everyone else became the &lt;strong&gt;user&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;NB: It&apos;s amusing seeing myself write this with some FP-first approach, compared to what I&apos;ve seen from data scientist, and even other software engineer, colleagues.&lt;/p&gt;
&lt;h2&gt;Training&lt;/h2&gt;
&lt;p&gt;This was a struggle due to wanting to spend little time and knowing little! There are &lt;strong&gt;many&lt;/strong&gt; tutorials that people have written on how to fine-tune an LLM, and there&apos;s packages, like Unsloth and Axolotl, that make it easy (or in my case, easier, but still tricky).&lt;/p&gt;
&lt;p&gt;After trying to get a sufficient understanding, I settled on using &lt;a href=&quot;https://modal.com&quot;&gt;Modal&lt;/a&gt; for running the training and some inference requests, and can genuinely recommend it. My stopped &quot;Apps&quot; have long been lost due to I presume the plan (Starter) I&apos;m on. The training script was based on a Modal example, using Axolotl. I used Weights &amp; Biases for training metrics and pulled the base model from Hugging Face.&lt;/p&gt;
&lt;p&gt;In the end, it cost me nothing, as my small usage was covered by the included $30 compute credits. The appendix contains a breakdown of the costs.&lt;/p&gt;
&lt;p&gt;The model I had the most success with was &lt;code&gt;mistralai/Mistral-7B-Instruct-v0.2&lt;/code&gt;. I say &quot;most success&quot; since I was fairly naïvely trying the right Modal config and fine-tuning parameters and settings!&lt;/p&gt;
&lt;p&gt;Unfortunately I don&apos;t have my logs for how long it took, but it was relatively quick, on the GPUs I used through Modal. That&apos;s really not helpful, so hopefully I&apos;ll reproduce the process.&lt;/p&gt;
&lt;h2&gt;Evaluation&lt;/h2&gt;
&lt;p&gt;I had 2 baselines of 1) 0-shot prompt and 2) 0-shot prompt but with a summary of who I (that is, the assistant) am. The latter was interesting in an existential sense to see how common/present my kind of life was present in the model.&lt;/p&gt;
&lt;p&gt;For some messages from friends or colleagues, I&apos;d write my own response, and then get the 2 responses from the baselines. Again, I used Modal for serverless inference.&lt;/p&gt;
&lt;p&gt;The responses were fairly generic. There did seem to be recall of things specific to my life, as presented through messages though. My writing style didn&apos;t seem to come across explicitly. Mostly, my style of humour with my friends didn&apos;t either.&lt;/p&gt;
&lt;p&gt;Outside of messages, I did ask questions like &quot;where have I been on holiday&quot;, and the responses were just slightly better than a baselines, but not enough to be meaningful.&lt;/p&gt;
&lt;h2&gt;Appendix&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;prepare.py&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-python&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;argparse&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;csv&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;io&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;os&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;re&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclasses&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;datetime&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Enum&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;functools&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;reduce&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;pathlib&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Path&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Generic&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;TypeVar&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Union&lt;/span&gt;

&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;structlog&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass_wizard&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;JSONFileWizard&lt;/span&gt;


&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;SYSTEM&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;system&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;user&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;ASSISTANT&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;assistant&quot;&lt;/span&gt;


&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;im&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;|im_start|&gt;{role}&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;{content}&lt;|im_end|&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;system&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;You are ...&quot;&lt;/span&gt;

&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;structlog&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;get_logger&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;whoami&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Jesse ...&quot;&lt;/span&gt;

&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data_file_path&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data.jsonl&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_percentage&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;part&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;whole&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;whole&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;part&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;whole&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Messenger&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Instagram&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;WhatsApp&quot;&lt;/span&gt;


&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;TypeVar&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;T&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;E&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;TypeVar&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;E&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;@&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Generic&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;T&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;Ok(&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;)&quot;&lt;/span&gt;


&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;@&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Generic&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;E&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;Err(&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;)&quot;&lt;/span&gt;


&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Union&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;value&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;ValueError&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;can&amp;#x27;t unwrap: &lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;True&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;False&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;False&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin boolean&quot; style=&quot;color: #D19A66;&quot;&gt;True&lt;/span&gt;


&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;@&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;JSONFileWizard&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;UUID&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;UUID&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;


&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;@&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;JSONFileWizard&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;UUID&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;


&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;@&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dataclass&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;JSONFileWizard&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;UUID&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Path&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_group_conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# Assuming a group conversation has more than two participants&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;to_prompt&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;USER&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt;
                        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;break&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;acc&lt;/span&gt;
                &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
                &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;SYSTEM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# https:&amp;#x2f;&amp;#x2f;openaccess-ai-collective.github.io&amp;#x2f;axolotl&amp;#x2f;docs&amp;#x2f;dataset-formats&amp;#x2f;conversation.html#sharegpt&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# optional: first row with role system to override default system prompts&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# {&quot;conversations&quot;: [{&quot;from&quot;: &quot;...&quot;, &quot;value&quot;: &quot;...&quot;}]}&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# from: human&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# from: assistant&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;to_chatml&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;content&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;content&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;skipping empty message&quot;)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;different roles&quot;, prev_role=prev_role, next_role=next_role)&lt;/span&gt;

                &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_role&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_content&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;same roles&quot;, prev_role=prev_role, next_role=next_role)&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;prev_content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;next_content&lt;/span&gt;

        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# After possibly combining messages, check the length&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&lt;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;too few messages&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;conversations&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;dumps&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;FacebookIO&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;FileIO&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bytes&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;FacebookIO&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;readall&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bytes&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&lt;&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;startswith&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\\&lt;/span&gt;u00&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_char&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bytes&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&quot;&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;startswith&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\\&lt;/span&gt;u00&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;hex&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_char&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_char&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;hex&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;6&lt;/span&gt;

                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_char&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_chars&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bytes&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;dumps&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&amp;#x27;&quot;&amp;#x27;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;ascii&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_data&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_chars&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;u&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_data&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;b&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;new_data&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_conversation_messenger_instagram&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;FacebookIO&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# with open(file_path, &quot;r&quot;) as file:&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# data = json.load(file)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;participant_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;participant_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;participants&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&lt;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.warn(&quot;insufficient participants&quot;, count=len(participants))&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;insufficient participants&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# Use my full name, for consistency&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Jesse&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;i&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;break&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;whoami&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message_data&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;ignore&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.*left the group\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.*added.*as a group admin\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.*added.*to the group\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.*named the group.*&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.*sent an attachment\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;^You are now connected on Messenger\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;r&quot;.* sent a live location\.$&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;skipping message&quot;, pattern=ignore, content=content)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;sender_name&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Jesse&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;whoami&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# They&amp;#x27;re no longer in the group. One reason for that is them leaving.&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;missing participant&quot;, sender_name=sender_name)&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;whoami&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;ASSISTANT&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;USER&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;missing content&quot;, has_photos=&quot;photos&quot; in message_data)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;fromtimestamp&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message_data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;timestamp_ms&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;1000&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;isoformat&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# TODO If phone number in file name, generate names&lt;/span&gt;
&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_conversation_whatsapp&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;reader&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;DictReader&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; not in &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Outgoing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Incoming&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.debug(&quot;ignorable type&quot;, type=row[&quot;Type&quot;])&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Sender Name&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Outgoing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;whoami&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# We haven&amp;#x27;t seen this participant before&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Participant&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;sender_name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Outgoing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;ASSISTANT&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Incoming&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;USER&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Text&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participant_id&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;strptime&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Message Date&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;%Y-%m-%d %H:%M:%S&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;isoformat&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;Text&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;uuid4&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;post_validate&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&lt;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;too few participants&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&lt;&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;too few messages&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;result&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;continue&lt;/span&gt;

        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# path = Path(&quot;conversations&quot;) &amp;#x2f; (str(conversation.id) + &quot;.json&quot;)&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# with open(path, &quot;w&quot;) as file:&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;#     conversation.to_json_file(path)&lt;/span&gt;

        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# path = Path(&quot;prompts&quot;) &amp;#x2f; (str(conversation.id) + &quot;.txt&quot;)&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# with open(path, &quot;w&quot;) as file:&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;#     prompt = conversation.to_prompt()&lt;/span&gt;
        &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;#     file.write(prompt)&lt;/span&gt;

        &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data_file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;a+&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;chatml&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;to_chatml&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;chatml&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;span class=&quot;ahl-constant ahl-character escape&quot; style=&quot;color: #D19A66;&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-builtin&quot; style=&quot;color: #D19A66;&quot;&gt;None&lt;/span&gt;


&lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# Example: Single file&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# path = Path(&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;#     &quot;data&amp;#x2f;facebook-messenger&amp;#x2f;..._10155675193056425&amp;#x2f;message_1.json&quot;&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# )&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# conversation = parse_conversation_messenger_instagram(path, Source.MESSENGER)&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# conversation = post_validate(conversation)&lt;/span&gt;
    &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(conversation)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;argparse&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;add_argument&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;--whatsapp&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;store_true&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;add_argument&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;--instagram&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;store_true&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;add_argument&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;--messenger&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;store_true&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;add_argument&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;--dry-run&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;store_true&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_args&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_whatsapp&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;whatsapp&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_instagram&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;instagram&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_messenger&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;messenger&lt;/span&gt;
    &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;dry_run&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data_file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;data_file_path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_whatsapp&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;whatsapp&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;iterdir&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;is_file&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsing&quot;, path=path)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_conversation_whatsapp&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;post_validate&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsed&quot;, path=path, success=is_ok(conversation))&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsed&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;%&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_percentage&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumping&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumped&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;WHATSAPP&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_instagram&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;instagram-messages&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dirs&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;iterdir&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;is_dir&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dirs&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;message_1.json&quot;&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsing&quot;, path=path)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_conversation_messenger_instagram&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;post_validate&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsed&quot;, path=path, success=is_ok(conversation))&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsed&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;%&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_percentage&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumping&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumped&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;INSTAGRAM&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;parse_messenger&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsing&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;data&amp;#x2f;facebook-messenger&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dirs&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;iterdir&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;is_dir&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control&quot; style=&quot;color: #C678DD;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dirs&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;message_1.json&quot;&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsing&quot;, path=path)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;parse_conversation_messenger_instagram&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;post_validate&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;# log.info(&quot;parsing&quot;, path=path)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_ok&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;is_err&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversation&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;parsed&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;f&quot;%&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;get_percentage&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumping&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;conversations&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;dry_run&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;dumped&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;MESSENGER&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Modal compute costs&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/modal-llm-fine-tuning-costs.png&quot; alt=&quot;Modal compute costs&quot; /&gt;&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>fine-tuning-an-llm-on-my-messages-whatsapp-instagram-and-messenger</id>
    <title>Fine-tuning an LLM on my messages (WhatsApp, Instagram, and Messenger)</title>
    <updated>2024-06-25T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/using-autumn-with-nimblepublisher-for-synax-highlighting"/>
    <content type="html">&lt;p&gt;For this website, I currently use NimblePublisher&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; for the content management. By default, it uses Earmark for Markdown and different Makeup packages for syntax highlighting.&lt;/p&gt;
&lt;p&gt;Having tried to write a Makeup parser&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, and being a big fan of Tree-sitter, I was happy to hear about Autumn&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt; and MDex &lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-5&quot; id=&quot;fnref-5&quot; data-footnote-ref&gt;4&lt;/a&gt;&lt;/sup&gt;. Autumn uses a Rust crate under-the-hood, through Rustler, for Tree-sitter-based syntax highlighting!&lt;/p&gt;
&lt;p&gt;It took a few minutes to customise my different content types with NimblePublisher to use a custom HTML converter module&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-4&quot; id=&quot;fnref-4&quot; data-footnote-ref&gt;5&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dashbitco/nimble_publisher&quot;&gt;NimblePublisher&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;makeup-parser-for-swift&quot;&gt;Makeup parser for Swift&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/leandrocp/autumn&quot;&gt;Autumn&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-5&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/leandrocp/mdex&quot;&gt;MDex&lt;/a&gt; &lt;a href=&quot;#fnref-5&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;4&quot; aria-label=&quot;Back to reference 4&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-4&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dashbitco/nimble_publisher?tab=readme-ov-file#custom-html-converter&quot;&gt;Custom HTML Converter&lt;/a&gt; &lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;5&quot; aria-label=&quot;Back to reference 5&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>using-autumn-with-nimblepublisher-for-synax-highlighting</id>
    <title>Using Autumn with NimblePublisher for synax highlighting</title>
    <updated>2024-05-22T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/a-partially-wrong-tf-idf-in-flix"/>
    <content type="html">&lt;p&gt;Recently I reminded myself of TF-IDF and the relatively simplicity of it, in and of itself. Having considered a Python implementation, and wanting to write &lt;em&gt;something&lt;/em&gt; in Flix&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, I thought this could be a good opportunity.&lt;/p&gt;
&lt;p&gt;Why is it &lt;em&gt;partially&lt;/em&gt; wrong? Well, because I wrote it, wasn&apos;t 100% happy with the results, but the intent was to quickly try something in Flix!&lt;/p&gt;
&lt;p&gt;Here it is:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;type alias ID = String
type alias Body = String
type alias Document = {id = ID, body = Body}

type alias Token = String

type alias Corpus = List[Document]

type alias IDF = Float64
type alias TF = Map[ID, Int32]
type alias TF_IDF = Float64
type alias Entry = {
    idf = IDF,
    tf = TF
}
type alias Index = Map[Token, Entry]

def idf(n: Int32, tf: TF): Float64 =
    import static java.lang.Math.log(Float64): Float64 \ {};

    ((n &amp;#x2f; Map.size(tf)) + 1)
    |&gt; Int32.toFloat64
    |&gt; log


def incrementFrequency(id: ID, tf: TF): TF =
    Map.insertWith(
        (_new, old) -&gt; old + 1, &amp;#x2f;&amp;#x2f; Increment the frequency of the term
        id,
        1, &amp;#x2f;&amp;#x2f; Initial frequency
        tf
    )

def nextTerm(id: ID, index: Index, term: String): Index =
    let default: Entry = {idf = 0.0, tf = Map#{id =&gt; 1}};

    Map.insertWith(
        &amp;#x2f;&amp;#x2f; Update the entry for the term, if is present in the index
        (_new, old) -&gt; { tf = incrementFrequency(id, old.tf)  | old}, &amp;#x2f;&amp;#x2f; Retain the old IDF
        term, &amp;#x2f;&amp;#x2f; Term as a key
        default, &amp;#x2f;&amp;#x2f; In case term isn&amp;#x27;t present in the index
        index
    )

def nextDoc(index: Index, document: Document): Index =
    let appNextTerm = nextTerm(document.id);
    let tokens = sentenceToTokens(document.body);

    List.foldLeft(appNextTerm, index, tokens)

def sentenceToTokens(sentence: String): List[String] =
    sentence
    |&gt; String.toLowerCase
    |&gt; String.splitOn({substr = &quot; &quot;})

def buildTf(corpus: Corpus): Index =
    let index = Map.empty(); &amp;#x2f;&amp;#x2f; Initialise an empty index

    List.foldLeft(nextDoc, index, corpus)

def buildIdf(n: Int32, index: Index): Index =
    Map.map(entry -&gt; { idf = idf(n, entry.tf) | entry }, index)

pub def buildIndex(corpus: Corpus): Index =
    let n = List.length(corpus); &amp;#x2f;&amp;#x2f; Compute this once

    corpus
    |&gt; buildTf
    |&gt; buildIdf(n)

def retrieve(index: Index, query: String, top_k: Int32): List[(ID, Float64)] =
    let tokens = sentenceToTokens(query);
    let initialDocScores: Map[ID, Float64] = Map.empty();

    tokens
    |&gt; List.foldLeft(
        (docScores, token) -&gt;
            match Map.get(token, index) {
                case None =&gt; docScores
                case Some(entry) =&gt;
                    let docTfIdfs = Map.map(termFreq -&gt; Int32.toFloat64(termFreq) * entry.idf, entry.tf);

                    Map.intersectionWith(
                        (score1, score2) -&gt; score1 + score2,
                        docScores,
                        docTfIdfs
                    )
            },
        initialDocScores
    )
    |&gt; Map.toList
    |&gt; List.sortBy(val -&gt; snd(val))
    |&gt; List.take(top_k)

def main(): Unit \ IO =
    let corpus: Corpus =
        {id = &quot;aaaa&quot;, body = &quot;Hello Giraffe one and giraffe 2&quot;} ::
        {id = &quot;bbbb&quot;, body = &quot;There are lots of animals, like giraffes&quot;} ::
        {id = &quot;cccc&quot;, body = &quot;Why are there lots of animals&quot;} ::
        Nil;
    let index: Index = debug(buildIndex(corpus));
    let query = &quot;where is the giraffe on the moon?&quot;;

    println(retrieve(index, query, 5))
&lt;/code&gt;&lt;/pre&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://flix.dev&quot;&gt;Flix&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;Beyond a previous &lt;a href=&quot;programming-imperative-to-functional-to-logic&quot;&gt;experiment&lt;/a&gt; trying logic programming with it &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>a-partially-wrong-tf-idf-in-flix</id>
    <title>A partially wrong TF-IDF in Flix</title>
    <updated>2024-05-05T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/missing-s3fs-for-sagemaker-real-time-inference-tutorial"/>
    <content type="html">&lt;p&gt;If you&apos;re getting the following error when going through a AWS SageMaker Studio tutorial&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;, here&apos;s a quick solution I&apos;m writing down, to save someone else searching. It&apos;s as obvious as you&apos;d expect!&lt;/p&gt;
&lt;p&gt;The error:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;ModuleNotFoundError: No module named &amp;#x27;s3fs&amp;#x27;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Earlier in the notebook, install the package:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;%pip install s3fs
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, import it:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-python&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;s3fs&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/tutorials/machine-learning-tutorial-deploy-model-to-real-time-inference-endpoint/&quot;&gt;Deploy a Machine Learning Model to a Real-Time Inference Endpoint&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>missing-s3fs-for-sagemaker-real-time-inference-tutorial</id>
    <title>Missing `s3fs` for SageMaker real-time inference tutorial</title>
    <updated>2024-03-31T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/programming-imperative-to-functional-to-logic"/>
    <content type="html">&lt;h1&gt;How I started programming&lt;/h1&gt;
&lt;p&gt;This is about my journey with programming languages from imperative to functional to (potentially) logic.&lt;/p&gt;
&lt;p&gt;Similar to &lt;em&gt;most&lt;/em&gt; people, I got into programming with imperative languages. They were the programming languages (PLs) that I used at my first few jobs—specifically, ColdFusion, PHP, Java, Python, JavaScript, and some others.&lt;/p&gt;
&lt;p&gt;Back in high school, I remember our IT teacher briefly introducing us to Prolog, of which I remember very little of, but it&apos;s stuck with me as a &lt;em&gt;neat idea&lt;/em&gt; ever since.&lt;/p&gt;
&lt;p&gt;Then, I worked at a startup that used Go for the API and agents, and then Elm&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; for the SPA. Why Elm? It was a fortuitous choice by the main frontend engineer. When I joined, there were roughly 4 current software engineers. Why Go? The &lt;em&gt;usual&lt;/em&gt; reasons.&lt;/p&gt;
&lt;p&gt;Elm, or rather functional programming was fascinating and eye-opening, as trite as that sounds. I won&apos;t go into why as others have covered that extensively—though I would like to do so myself one day.&lt;/p&gt;
&lt;p&gt;At my next job, there was another fortuitous choice of PLs of Elixir, since the technical co-founder was familiar with it and that it seemed like the right PL (including OTP) for the job.&lt;/p&gt;
&lt;p&gt;We&apos;ve reached a point in my hobby and career that I&apos;m convinced functional programming is overall, better than imperative programming. It&apos;s more fun too.&lt;/p&gt;
&lt;h1&gt;Okay, so Prolog&lt;/h1&gt;
&lt;p&gt;With Prolog, and the continuous search for The One True Programming Language. I&apos;ve found Flix&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, which may very well be it. It&apos;s fairly novel in its design. I&apos;ll quote their own answer to their question of &quot;Why Flix?&quot;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flix aims to offer a unique combination of features that no other programming language offers, including: algebraic data types and pattern matching (like Haskell, OCaml), extensible records (like Elm), traits (type classes) (like Haskell, Rust), higher-kinded types (like Haskell), typematch (like Scala), type inference (like Haskell, OCaml), structured channel and process-based concurrency (like Go), and compilation to JVM bytecode (like Scala).&lt;/p&gt;
&lt;p&gt;Flix also supports several unique features, including: a polymorphic effect system, region-based local mutation, purity reflection, and first-class Datalog constraints.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Datalog constraints, or declarative logic programming, combined with so many other ideal features was interesting, and it wasn&apos;t long until I saw an opportunity to try it out.&lt;/p&gt;
&lt;h1&gt;A real world use-case for logic programming/constraint solving&lt;/h1&gt;
&lt;p&gt;At work, there was a snippet of Go code that was used to find running servers that satisfied having a certain capability (read: framework or runtime) to serve a machine learning model.. It would get/have the list of servers and loop through looking for ones that had the desired capability in its list of capabilities, and return those.&lt;/p&gt;
&lt;p&gt;Flix calls the Datalog constraints fixpoints&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;. The Flix book on them was helpful.&lt;/p&gt;
&lt;h1&gt;Implementations by programming approach&lt;/h1&gt;
&lt;p&gt;I quickly threw something together. It&apos;s very simple in that there&apos;s a small set of facts (&lt;code&gt;features()&lt;/code&gt;). It was so simple that I didn&apos;t need to implement any explicit rule(s).&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;def features(): #{ IsCapable(String, String) | r } = #{
        IsCapable(&quot;MLServer&quot;, &quot;TensorFlow&quot;).
        IsCapable(&quot;MLServer&quot;, &quot;Scikit-learn&quot;).
        IsCapable(&quot;Triton&quot;, &quot;PyTorch&quot;).
        IsCapable(&quot;Triton&quot;, &quot;TensorFlow&quot;).
    }

def serversWithCapability(c: String): Vector[String] =
    query features() select server from IsCapable(server, c)

def main(): Unit \ IO =
    Vector#{&quot;TensorFlow&quot;, &quot;PyTorch&quot;, &quot;Transformers&quot;}
    |&gt; Vector.map(serversWithCapability)
    |&gt; println
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Output:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;Vector#{Vector#{MLServer, Triton}, Vector#{Triton}, Vector#{}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For comparison, I wrote Elixir and Go versions.&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-elixir&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Capabilities&lt;/span&gt; &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;servers&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation&quot; style=&quot;color: #ABB2BF;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:mlserver&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;capabilities: &lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:tensorflow&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:scikit_learn&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation&quot; style=&quot;color: #ABB2BF;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:triton&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;capabilities: &lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:pytorch&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:tensorflow&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;servers_with_capabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;servers&lt;/span&gt;
    &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;|&gt;&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;ahl-punctuation&quot; style=&quot;color: #ABB2BF;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;capabilities: &lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;-&gt;&lt;/span&gt;
      &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;member?&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;|&gt;&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:tensorflow&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:pytorch&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:transformers&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;|&gt;&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;&lt;/span&gt;&lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;Capabilities&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;servers_with_capabilities&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;&amp;#x2f;&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;|&gt;&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Output:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-elixir&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:mlserver&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:triton&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-string ahl-special ahl-symbol&quot; style=&quot;color: #98C379;&quot;&gt;:triton&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NB: I originally used an LLM with the prompt, &quot;Convert this Elixir code to Go&quot;, and received a functionally and syntactically code snippet.&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-go&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;ahl-namespace&quot; style=&quot;color: #61AFEF;&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;ahl-keyword ahl-control ahl-import&quot; style=&quot;color: #E06C75;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;fmt&quot;&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Server&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-storage ahl-type&quot; style=&quot;color: #E06C75;&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Name&lt;/span&gt;         &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;
	&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Capabilities&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;ahl-keyword ahl-storage ahl-type&quot; style=&quot;color: #E06C75;&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;servers&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Server&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;mlserver&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Capabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;tensorflow&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;scikit_learn&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;triton&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Capabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;pytorch&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;tensorflow&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;serversWithCapabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;ahl-keyword ahl-storage ahl-type&quot; style=&quot;color: #E06C75;&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;

	&lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;servers&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capability&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Capabilities&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capability&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;break&lt;/span&gt;
			&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;ahl-keyword ahl-control ahl-return&quot; style=&quot;color: #C678DD;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;ahl-keyword ahl-function&quot; style=&quot;color: #E06C75;&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capabilities&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;tensorflow&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;pytorch&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;transformers&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-type ahl-builtin&quot; style=&quot;color: #E5C07B;&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-control ahl-repeat&quot; style=&quot;color: #C678DD;&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;capabilities&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-function ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;serversWithCapabilities&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function ahl-method&quot; style=&quot;color: #61AFEF;&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Output:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-go&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;mlserver&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;triton&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;triton&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;Side-by-side comparison&lt;/h1&gt;
&lt;p&gt;An alternative view of the different implementations that highlights the differences, such as length.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/blog/flix-elixir-go-servers.png&quot;&gt;&lt;img src=&quot;/images/blog/flix-elixir-go-servers.png&quot; alt=&quot;Each implementation side-by-side in VS Code&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Summary&lt;/h1&gt;
&lt;p&gt;I&apos;ve already espoused my view that functional programming is generally preferable to imperative. I view logic programming, in a vague sense, as a higher level of thinking in that there&apos;s less I need to &lt;em&gt;instruct&lt;/em&gt; the computer to do, and can &lt;em&gt;declare&lt;/em&gt; (or, describe) what is to be done, and let it figure it out for me.&lt;/p&gt;
&lt;p&gt;One potential barrier to logic programming being adopted is that who wants to learn a whole new programming langauge that&apos;s very specific, as opposed to Rust, Elixir, Clojure, etc that can solve a wide array of problems.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://elm-lang.org&quot;&gt;Elm&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://flix.dev&quot;&gt;Flix&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://doc.flix.dev/fixpoints.html&quot;&gt;Fixpoints&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>programming-imperative-to-functional-to-logic</id>
    <title>Programming: Imperative to Functional to Logic</title>
    <updated>2024-02-23T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/makeup-parser-for-swift"/>
    <content type="html">&lt;p&gt;Having switched to using Elixir and NimblePublisher for the backend of my personal website, I&apos;ve needed to improve the availability of Makeup parsers. Firstly, starting with Swift, with &lt;a href=&quot;https://github.com/jesse-c/makeup_swift&quot;&gt;&lt;code&gt;makeup_swift&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&apos;s incredibly bare bones, so far.&lt;/p&gt;
&lt;p&gt;The approach so far is to be fairly true to the Swift Language Reference&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;. The prioritisation is hopefully on the more common parts of the language.&lt;/p&gt;
&lt;p&gt;Contributions are heavily welcomed and encouraged!&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutthelanguagereference&quot;&gt;Swift Language Reference&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>makeup-parser-for-swift</id>
    <title>Makeup parser for Swift</title>
    <updated>2023-08-25T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/raycast-extension-for-himalaya-released"/>
    <content type="html">&lt;p&gt;Previously&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, I wrote about a paradigm where you had daemon which had multi-UIs that interacted with it. For some time I had wanted to quickly be able to act on emails as they come in. Someone is working on a Raycast extension that uses AppleScript to interact with Mail.app&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;. Whilst it&apos;s tractable, it was taking some time—and then I remembered Himalaya&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-4&quot; id=&quot;fnref-4&quot; data-footnote-ref&gt;4&lt;/a&gt;&lt;/sup&gt;!&lt;/p&gt;
&lt;p&gt;After testing it out, I was happy with it and set out to try and build a Raycast extension&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-5&quot; id=&quot;fnref-5&quot; data-footnote-ref&gt;5&lt;/a&gt;&lt;/sup&gt; around it. I&apos;m happy to further announce that it&apos;s available for us! I&apos;ve already had several new minor versions since the original release.&lt;/p&gt;
&lt;p&gt;Along with this, I got into a discussion with @soywood&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-6&quot; id=&quot;fnref-6&quot; data-footnote-ref&gt;6&lt;/a&gt;&lt;/sup&gt; over email as I had sponsored him on GitHub. It turns out, the paradigm&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1-2&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; I wrote about, and his own project&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-6&quot; id=&quot;fnref-6-2&quot; data-footnote-ref&gt;6&lt;/a&gt;&lt;/sup&gt; had converged on the same approach! Hilariously, we had both been working on Pomodoro timers.&lt;/p&gt;
&lt;p&gt;Up next? A Raycast extension for Comodoro&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-8&quot; id=&quot;fnref-8&quot; data-footnote-ref&gt;7&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;multi-uis-for-a-daemon-and-using-grpc-to-communicate-locally-from-rust-swift&quot;&gt;Multi-UIs for a daemon and using gRPC to communicate locally from Rust &lt;&gt; Swift&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt; &lt;a href=&quot;#fnref-1-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1-2&quot; aria-label=&quot;Back to reference 1-2&quot;&gt;↩&lt;sup class=&quot;footnote-ref&quot;&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/thesis&quot;&gt;Technology-supported activities through realtime, distributed, and collaborative interfaces&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/raycast/extensions/pull/4080&quot;&gt;[New Extension] Apple Mail #4080&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-4&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/soywod/himalaya&quot;&gt;Himalaya (CLI)&lt;/a&gt; &lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;4&quot; aria-label=&quot;Back to reference 4&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-5&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.raycast.com/jns/himalaya&quot;&gt;Himalaya (Raycast)&lt;/a&gt; &lt;a href=&quot;#fnref-5&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;5&quot; aria-label=&quot;Back to reference 5&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-6&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/soywod&quot;&gt;@soywood&lt;/a&gt; &lt;a href=&quot;#fnref-6&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;6&quot; aria-label=&quot;Back to reference 6&quot;&gt;↩&lt;/a&gt; &lt;a href=&quot;#fnref-6-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;6-2&quot; aria-label=&quot;Back to reference 6-2&quot;&gt;↩&lt;sup class=&quot;footnote-ref&quot;&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-8&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://pimalaya.org/comodoro/&quot;&gt;Comodoro&lt;/a&gt; &lt;a href=&quot;#fnref-8&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;7&quot; aria-label=&quot;Back to reference 7&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>raycast-extension-for-himalaya-released</id>
    <title>Raycast extension for Himalaya released</title>
    <updated>2023-04-29T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/hyper-key-without-karabiner-elements"/>
    <content type="html">&lt;p&gt;I came across a blog post&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; about using &lt;code&gt;hidutil&lt;/code&gt; on macOS. As much as I&apos;m thankful for those who worked on Karabiner Elements, I&apos;m happy to remove a dependency!&lt;/p&gt;
&lt;p&gt;This was a simple change to my dotfiles&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;. I had already used the builtin macOS ability to remap a modifier, which I had done from caps lock to ESC, which I had to remove.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://amitp.blogspot.com/2023/04/mac-keyboard-with-hidutil.html&quot;&gt;Mac keyboard with hidutil&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/dotfiles/commit/ee0e45ac0fc68ba055f73011b5a025c992fd5984&quot;&gt;dotfiles#ee0e45ac0fc68ba055f73011b5a025c992fd5984&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>hyper-key-without-karabiner-elements</id>
    <title>Hyper key without Karabiner Elements</title>
    <updated>2023-04-13T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/safari-opening-without-windows"/>
    <content type="html">&lt;p&gt;This is one of those, &quot;I don&apos;t know why it broke but here&apos;s what fixed it&quot;. Safari started opening without any windows—private or otherwise.&lt;/p&gt;
&lt;p&gt;Using AppCleaner&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;, search for &quot;Safari&quot;. I removed everything except what&apos;s remaining in this screenshot. If there&apos;s permission issues, use a terminal or Finder.&lt;/p&gt;
&lt;p&gt;NB: Be &lt;em&gt;wise&lt;/em&gt; in what you delete.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/appcleaner-safari.png&quot; alt=&quot;The remaining files from using AppCleaner to cleanup Safari&quot; /&gt;&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://freemacsoft.net/appcleaner/&quot;&gt;AppCleaner&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>safari-opening-without-windows</id>
    <title>Safari opening without windows</title>
    <updated>2023-01-23T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/serialise-and-deserialise-enums-with-named-associated-values-from-rust-swift"/>
    <content type="html">&lt;p&gt;Between Rust and Serde and Swift and &lt;code&gt;Codable&lt;/code&gt;, it&apos;s &lt;em&gt;relatively&lt;/em&gt; easy to serialise and deserialise between the 2, using JSON. Whilst there aren&apos;t shared definitions through a common format, such as Protobuf or MessagePack, for simple data it looks to be maintainable.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;serde_derive&lt;/code&gt; and &lt;code&gt;Codable&lt;/code&gt; ideally save you writing encoders/serialisers and decoders/deserialisers. For Rust → Swift, I&apos;ve so far had to write a decoder for enums with named associated values. Both Rust and Swift use nth-indexing for unnamed associated values, so I don&apos;t &lt;em&gt;think&lt;/em&gt; it would be too hard. Without associated values, decoding worked without having to write anything for decoding.&lt;/p&gt;
&lt;p&gt;Here are small snippets of the types and decoder.&lt;/p&gt;
&lt;p&gt;Rust&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-rust&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ahl-special&quot; style=&quot;color: #61AFEF;&quot;&gt;derive&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Debug&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Clone&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;PartialEq&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Deserialize&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Serialize&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;ahl-keyword ahl-storage ahl-type&quot; style=&quot;color: #E06C75;&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-type ahl-enum variant&quot; style=&quot;color: #E5C07B;&quot;&gt;Paused&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;duration&lt;/span&gt;: &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-type ahl-enum variant&quot; style=&quot;color: #E5C07B;&quot;&gt;Stopped&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-type ahl-enum variant&quot; style=&quot;color: #E5C07B;&quot;&gt;Working&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;duration&lt;/span&gt;: &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-type ahl-enum variant&quot; style=&quot;color: #E5C07B;&quot;&gt;TakingShortBreak&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;duration&lt;/span&gt;: &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ahl-type ahl-enum variant&quot; style=&quot;color: #E5C07B;&quot;&gt;TakingLongBreak&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-other ahl-member&quot; style=&quot;color: #E06C75;&quot;&gt;duration&lt;/span&gt;: &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Swift&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-swift&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;@&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;available&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;macOS&lt;/span&gt; &lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-constant ahl-numeric integer&quot; style=&quot;color: #D19A66;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Codable&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Paused&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Stopped&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Working&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;TakingShortBreak&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;TakingLongBreak&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;CodingKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;CodingKey&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Paused&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Stopped&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Working&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;TakingShortBreak&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;TakingLongBreak&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;AdditionalCodingKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;CodingKey&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;secs&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;nanos&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;ahl-constructor&quot; style=&quot;color: #61AFEF;&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;decoder&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Decoder&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;container&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;decoder&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;singleValueContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try?&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;&amp;#x2f;&amp;#x2f; For when it&amp;#x27;s &quot;state&quot;:&quot;Stopped&quot;&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;Stopped&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Stopped&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;fatalError&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;Unexpected value &lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;&amp;#x2f;&amp;#x2f; For when &quot;state&quot;:{&quot;Working&quot;:{&quot;duration&quot;:{&quot;secs&quot;:1,&quot;nanos&quot;:0}}}&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;values&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable ahl-parameter&quot; style=&quot;color: #E06C75;&quot;&gt;decoder&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;keyedBy&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;CodingKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;&amp;#x2f;&amp;#x2f; Dynamically get the CodingKey for the State from its enum&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateKey&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;allKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;first&lt;/span&gt;!
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateContainer&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;nestedContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;keyedBy&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;AdditionalCodingKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;forKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateKey&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;durationKey&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;allKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;first&lt;/span&gt;!
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;durationContainer&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;nestedContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;keyedBy&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;AdditionalCodingKeys&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;forKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;durationKey&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;nanos&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;durationContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;forKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;nanos&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;secs&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;durationContainer&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;forKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;secs&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;nanoseconds&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;nanos&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;seconds&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;secs&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword ahl-control ahl-conditional&quot; style=&quot;color: #C678DD;&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stringValue&lt;/span&gt; &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;Paused&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;Paused&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;Working&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;Working&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;TakingShortBreak&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;TakingShortBreak&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;TakingLongBreak&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;ahl-type&quot; style=&quot;color: #E5C07B;&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;TakingLongBreak&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-keyword&quot; style=&quot;color: #E06C75;&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;ahl-function&quot; style=&quot;color: #61AFEF;&quot;&gt;fatalError&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;Unexpected value &lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stateKey&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-delimiter&quot; style=&quot;color: #ABB2BF;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;stringValue&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-special&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;ahl-string&quot; style=&quot;color: #98C379;&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;ahl-comment&quot; style=&quot;font-style: italic; color: #5C6370;&quot;&gt;&amp;#x2f;&amp;#x2f; Fake&lt;/span&gt;
            &lt;span class=&quot;ahl-variable ahl-builtin&quot; style=&quot;color: #61AFEF;&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;ahl-operator&quot; style=&quot;color: #C678DD;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ahl-variable&quot; style=&quot;color: #ABB2BF;&quot;&gt;state&lt;/span&gt;
        &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;ahl-punctuation ahl-bracket&quot; style=&quot;color: #ABB2BF;&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/y-pomodoro/blob/5e808a251db8971c8987b6f9cd738d5173ba8adc/core/src/lib.rs#L45&quot;&gt;jesse-c/y-pomodoro/blob/5e808a251db8971c8987b6f9cd738d5173ba8adc/core/src/lib.rs&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/y-pomodoro/blob/5e808a251db8971c8987b6f9cd738d5173ba8adc/client/Sources/pomodoro/pomodoro.swift#L72&quot;&gt;jesse-c/y-pomodoro/blob/5e808a251db8971c8987b6f9cd738d5173ba8adc/client/Sources/pomodoro/pomodoro.swift&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>serialise-and-deserialise-enums-with-named-associated-values-from-rust-swift</id>
    <title>Serialise and deserialise enums with named associated values from Rust → Swift</title>
    <updated>2023-01-02T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/compile-tree-sitter-langs-for-emacs-29-on-an-m1"/>
    <content type="html">&lt;p&gt;Recently I tried Emacs 29&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; and began slimming down my config&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;. Following the Tree-sitter starter guide&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;, I couldn&apos;t figure out why I wasn&apos;t able to start the appropriate mode. I would get errors along the lines of, &lt;code&gt;Cannot activate tree-sitter, because language definition for ...&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;After double-checking file paths and names, I compared my local build output of the recommend build script&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-4&quot; id=&quot;fnref-4&quot; data-footnote-ref&gt;4&lt;/a&gt;&lt;/sup&gt; to the provided release—which &lt;em&gt;did&lt;/em&gt; work .&lt;/p&gt;
&lt;p&gt;The provided release was compiled for &lt;code&gt;x86_64&lt;/code&gt; and my local build output was for &lt;code&gt;arm64&lt;/code&gt;. That wasn&apos;t wrong, as I &lt;em&gt;am&lt;/em&gt; on an M1.&lt;/p&gt;
&lt;p&gt;Here&apos;s the a simple and lazy to compile for &lt;code&gt;x64_64&lt;/code&gt; and have it work: &lt;code&gt;arch -x86_64 ./batch.sh&lt;/code&gt;&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jimeh/emacs-builds&quot;&gt;jimeh/emacs-builds&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/emacs/comments/zqdrnz/replacing_packages_with_more_stripped_down/&quot;&gt;Replacing packages with more &quot;stripped down&quot; packages&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/emacs-mirror/emacs/blob/master/admin/notes/tree-sitter/starter-guide&quot;&gt;Tree-sitter starter guide&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-4&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/casouri/tree-sitter-module&quot;&gt;casouri/tree-sitter-module&lt;/a&gt; &lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;4&quot; aria-label=&quot;Back to reference 4&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>compile-tree-sitter-langs-for-emacs-29-on-an-m1</id>
    <title>Compile Tree-sitter langs for Emacs 29 on an M1</title>
    <updated>2022-12-20T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/brewfile-app-relaunched"/>
    <content type="html">&lt;p&gt;I&apos;ve relaunched this app!&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; The short version is that it&apos;s the &lt;a href=&quot;https://gitignore.io&quot;&gt;gitignore.io&lt;/a&gt; equivalent for Homebrew Brewfiles.&lt;/p&gt;
&lt;p&gt;There&apos;s work to do, but, it&apos;s in a reliable and reproducible state.&lt;/p&gt;
&lt;p&gt;Previously, it was on a VPS running FreeBSD and was using jails with Nginx and Puma. Now, it&apos;s still on a VPS, but it&apos;s running Debian and is using containers with Caddy and Puma.&lt;/p&gt;
&lt;p&gt;I do not regret using FreeBSD and jails. I learnt from it and would consider using them again, project-dependent.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://brewfile.app&quot;&gt;brewfile.app&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>brewfile-app-relaunched</id>
    <title>Brewfile app relaunched</title>
    <updated>2022-12-15T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/v1-release-of-appearancenotifier"/>
    <content type="html">&lt;p&gt;v0.0.1 was released on 2021-06-09&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;. Since then, I&apos;ve been using it daily both at home and at work. After a lazy approach to auto-starting it&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, I added a daemon definition for macOS with &lt;code&gt;launchd&lt;/code&gt;. Recently as well, I added Emacs support.&lt;/p&gt;
&lt;p&gt;With these changes, I remembered to do a release, giving us v1!&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-3&quot; id=&quot;fnref-3&quot; data-footnote-ref&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/AppearanceNotifier/releases/tag/v0.0.1&quot;&gt;Initial release&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/dotfiles/commit/7d46082baecb3e1440dd17c0c26fc3d2fd4e3cb6&quot;&gt;dotfiles#7d46082baecb3e1440dd17c0c26fc3d2fd4e3cb6&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/AppearanceNotifier/releases/tag/v1.0.0&quot;&gt;v1 release&lt;/a&gt; &lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;3&quot; aria-label=&quot;Back to reference 3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>v1-release-of-appearancenotifier</id>
    <title>v1 release of AppearanceNotifier</title>
    <updated>2022-12-08T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/custom-zola-project-type-for-projectile"/>
    <content type="html">&lt;p&gt;I currently use Zola for this website and use Emacs as my editor with &lt;a href=&quot;https://github.com/bbatsov/projectile&quot;&gt;Projectile&lt;/a&gt;. Here&apos;s a snippet from my dotfiles to add support for Zola projects to Projectile&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-diff&quot; translate=&quot;no&quot;&gt;&lt;span class=&quot;ahl-markup ahl-bold&quot; style=&quot;font-weight: bold; color: #D19A66;&quot;&gt;diff --git a&amp;#x2f;home&amp;#x2f;private_dot_config&amp;#x2f;emacs&amp;#x2f;init.el b&amp;#x2f;home&amp;#x2f;private_dot_config&amp;#x2f;emacs&amp;#x2f;init.el&lt;/span&gt;
index &lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;c8d15dc&lt;/span&gt;..&lt;span class=&quot;ahl-constant&quot; style=&quot;color: #56B6C2;&quot;&gt;a3f9260&lt;/span&gt; 100644
&lt;span class=&quot;ahl-diff ahl-minus&quot; style=&quot;color: #E06C75;&quot;&gt;--- a&amp;#x2f;home&amp;#x2f;private_dot_config&amp;#x2f;emacs&amp;#x2f;init.el&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+++ b&amp;#x2f;home&amp;#x2f;private_dot_config&amp;#x2f;emacs&amp;#x2f;init.el&lt;/span&gt;
&lt;span class=&quot;ahl-attribute&quot; style=&quot;color: #E5C07B;&quot;&gt;@@ -797,7 +797,19 @@&lt;/span&gt;
   :config
   (setq projectile-project-search-path &amp;#x27;(&quot;~&amp;#x2f;Documents&amp;#x2f;projects&amp;#x2f;&quot; (&quot;~&amp;#x2f;src&amp;#x2f;&quot; . 3)))
   (setq projectile-auto-discover nil)
&lt;span class=&quot;ahl-diff ahl-minus&quot; style=&quot;color: #E06C75;&quot;&gt;-  :init (counsel-projectile-mode))&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+  :init (counsel-projectile-mode)&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+  (projectile-register-project-type&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   &amp;#x27;zola&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   &amp;#x27;(&quot;config.toml&quot; &quot;content&quot; &quot;static&quot; &quot;templates&quot; &quot;themes&quot;)&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   :project-file &quot;config.toml&quot;&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   :compile &quot;zola build&quot;&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   :test &quot;zola check&quot;&lt;/span&gt;
&lt;span class=&quot;ahl-diff ahl-plus&quot; style=&quot;color: #98C379;&quot;&gt;+   :run &quot;zola server&quot;))&lt;/span&gt;

 ;; Make Ivy a bit more friendly by adding information to ivy buffers, e.g. description of commands in Alt-x, meta info when switching buffers, etc.
 (use-package ivy-rich
&lt;/code&gt;&lt;/pre&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.projectile.mx/projectile/projects.html&quot;&gt;https://docs.projectile.mx/projectile/projects.html&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>custom-zola-project-type-for-projectile</id>
    <title>Custom Zola project type for Projectile</title>
    <updated>2022-11-06T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/counting-pages-in-sections-from-other-sections-in-zola"/>
    <content type="html">&lt;p&gt;For the design of this website (as of 2022-10-11), I wanted to include the number of pages in a section—e.g., in the menu. I found a post on the Zola forum&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt; where I learnt about the &lt;code&gt;get_section&lt;/code&gt; and a section&apos;s &lt;code&gt;pages&lt;/code&gt; variable. Then in the Tera documentation&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;, I found the &lt;code&gt;length&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Between the 2 of these, I&apos;m able to display the pages count.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;autumn-hl&quot; style=&quot;background-color: #282C34; color: #ABB2BF;&quot;&gt;&lt;code class=&quot;language-plaintext&quot; translate=&quot;no&quot;&gt;{% set notes = get_section(path=&quot;notes&amp;#x2f;_index.md&quot;) -%}
{{ notes.pages | length }}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Notes have been renamed to blog (and posts).&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://zola.discourse.group/t/section-vs-page/522/8&quot;&gt;https://zola.discourse.group/t/section-vs-page/522/8 ↗&lt;/a&gt; &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://tera.netlify.app/docs/#length&quot;&gt;https://tera.netlify.app/docs/#length ↗&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>counting-pages-in-sections-from-other-sections-in-zola</id>
    <title>Counting pages in sections from other sections in Zola</title>
    <updated>2022-10-11T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/multi-uis-for-a-daemon-and-using-grpc-to-communicate-locally-from-rust-swift"/>
    <content type="html">&lt;h1&gt;Multi-UIs Discovery of a paradigm&lt;/h1&gt;
&lt;p&gt;While building an extension for &lt;a href=&quot;https://www.raycast.com/jns/sabnzbd&quot;&gt;SABnzbd&lt;/a&gt; for &lt;a href=&quot;https://www.raycast.com&quot;&gt;Raycast&lt;/a&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-1&quot; id=&quot;fnref-1&quot; data-footnote-ref&gt;1&lt;/a&gt;&lt;/sup&gt;, it made me think about a paradigm of multiple UIs. I interact with SABnzbd through its web UI, Raycast, and NZBHydra 2. There may even be another way that I&apos;m not remembering.&lt;/p&gt;
&lt;p&gt;The paradigm I thought of from this, and added to my projects list, was something like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/blog/simple-map.png&quot; alt=&quot;Example: Multi-UIs connected with a daemon&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The name that I gave the project/idea was &quot;headless for everything&quot;, where headless is the daemon, in that drawing.&lt;/p&gt;
&lt;p&gt;Some clients are local, while some are remote, like &quot;Export to website&quot;. There are more and more local- and offline-first projects. What if you could export your data to another service? Chuck some local issues/tickets up in Jira and Linear? What if you could E2E as part of that? What if it could realtime, distributed, and collaborative? This is a concept I covered with my undergraduate thesis&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn-2&quot; id=&quot;fnref-2&quot; data-footnote-ref&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;The obvious—and huge—downside is that adding a network in-between brings all the issues that a network inherently has. Maybe &lt;a href=&quot;https://hyperfiddle.notion.site/Demo-Photon-a-full-stack-Clojure-Script-dialect-with-compiler-managed-client-server-data-sync-57aee367c20e45b3b80366d1abe4fbc3&quot;&gt;Photon&lt;/a&gt; will help us out.&lt;/p&gt;
&lt;h1&gt;My first experiment with this paradigm&lt;/h1&gt;
&lt;p&gt;The Pomodoro technique has occasionally worked well for me. On macOS, I use &lt;a href=&quot;https://tomato2.app&quot;&gt;Tomato 2&lt;/a&gt;—and highly recommend it! A Pomodoro timer became the first experiment for me.&lt;/p&gt;
&lt;p&gt;The first version used sockets and an SQLite DB with the daemon and CLI client written in Rust. I wanted notifications though and with notarising/signing, I didn&apos;t like how I would send native macOS notifications.&lt;/p&gt;
&lt;p&gt;The second version got rid of SQLite and kept it all in memory to simplify it and used MessagePack.&lt;/p&gt;
&lt;p&gt;The third version, which is a work-in-progress, gets rid of sockets and uses gRPC for communication so that I can write a client in Swift. I did look around, and it seemed possible to use sockets with Swift, but again, I didn&apos;t like how I would&apos;ve had to do so.&lt;/p&gt;
&lt;h1&gt;Sample: How-to use gRPC to communicate between Rust &lt;&gt; Swift&lt;/h1&gt;
&lt;p&gt;Repository: &lt;a href=&quot;https://github.com/jesse-c/grpc-example-rust-swift&quot;&gt;https://github.com/jesse-c/grpc-example-rust-swift&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;While I plan on writing a step-by-step tutorial, in the desire to get this idea and sample out to the world, I&apos;ve published the repository.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; data-footnotes&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;I&apos;m still not decided on Raycast. I would go back to Alfred in a heartbeat if it wasn&apos;t so visually dated. &lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;1&quot; aria-label=&quot;Back to reference 1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jesse-c/thesis&quot;&gt;Technology-supported activities through realtime, distributed, and collaborative interfaces&lt;/a&gt; &lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot; data-footnote-backref data-footnote-backref-idx=&quot;2&quot; aria-label=&quot;Back to reference 2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>multi-uis-for-a-daemon-and-using-grpc-to-communicate-locally-from-rust-swift</id>
    <title>Multi-UIs for a daemon and using gRPC to communicate locally from Rust &lt;&gt; Swift</title>
    <updated>2022-06-24T00:00:00Z</updated>
  </entry>
  <entry>
    <link rel="alternate" href="https://j-e-s-s-e.com/blog/retrospective-on-a-side-project-autovolume-for-macos"/>
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.jesseclaven.com/projects/AutoVolume/&quot;&gt;AutoVolume&lt;/a&gt; is a free and open source app that automatically changes the volume when your Mac wakes from sleep. I&apos;m going to give a brief overview from how it started, to being released.&lt;/p&gt;
&lt;h2&gt;Initial idea&lt;/h2&gt;
&lt;p&gt;From my &lt;code&gt;idea.md&lt;/code&gt; file for this, one night I had my volume up high because I was watching a TV show, and the next day when I received an email notification it was super loud, which was just a bit shocking and embarrassing. I wrote down the idea of, &apos;If sleep longer than time period x, show a notification on log in with action to mute&apos;. The end product ended up being similar.&lt;/p&gt;
&lt;p&gt;I took this as an opportunity to do a few other little things that I&apos;ve been wanting to do: design a website for the the first time in a while, create an animation, and code a website using no IDs or classes.&lt;/p&gt;
&lt;h2&gt;Finding time&lt;/h2&gt;
&lt;p&gt;I wrote down the idea on 16-06-26 and the first commit to the repository was on 16-12-18.  The most recent commit was on 17-04-05. From having the idea to releasing something took around 10 months. That wasn&apos;t because of difficulty in any part, but because it was very low priority to me—and that was okay!&lt;/p&gt;
&lt;p&gt;Staying true to the original idea and a minimum feature set was key as well. It made it easy to release it sooner and evaluate if people would use it, and how.&lt;/p&gt;
&lt;p&gt;A relatively large amount of time was spent on the animation. I searched for different ways to do it (e.g. using an animation code library) and settled on After Effects. While you can easily do it in AE, I was finding parts of the UX (importing lots of layers into AE) tedious. In the end I switched to Photoshop and created the animation in there in a few minutes.&lt;/p&gt;
&lt;h2&gt;Evaluation&lt;/h2&gt;
&lt;p&gt;The common saying of build something for your own problem was true—and it was satisfying seeing people say thank you, and that it was just what they wanted, either knowingly, or after reading what it did. I personally always have it running and have found it useful.&lt;/p&gt;
&lt;p&gt;It reached the #1 spot on Designer News which was cool to see. Someone posted it to Product Hunt on my behalf as well. I posted it to a private forum I&apos;m apart of as well. What was also satisying was seeing all the people star the repository on GitHub.&lt;/p&gt;
&lt;h2&gt;What&apos;s next&lt;/h2&gt;
&lt;p&gt;I already have my own TODO items, but people had suggestions from the get go. For now it does it&apos;s purpose and works &apos;perfectly&apos; in that regard, so I&apos;m going to leave it alone for a bit.&lt;/p&gt;
</content>
    <author>
      <name>Jesse Claven</name>
      <uri>https://j-e-s-s-e.com</uri>
    </author>
    <id>retrospective-on-a-side-project-autovolume-for-macos</id>
    <title>Retrospective on a side-project: AutoVolume for macOS</title>
    <updated>2017-04-19T00:00:00Z</updated>
  </entry>
</feed>